(function(global){try{if(!global.ACUITY_MODAL_INIT)init(global)}catch(e){}var modal=null;var lastClickedButton=null;var barInitialized=null;function init(global){global.ACUITY_MODAL_INIT=true;initBar();cleanBadHTML();var document=global.document;var div=document.createElement("div");div.innerHTML='<div class="acuity-embed-modal" style="display: none;" role="dialog">'+'<div class="acuity-modal-inner" tabindex="-1" role="document">'+'<button class="acuity-modal-close" aria-label="Close" role="button" tabindex="0"><span aria-hidden="true">&times;</span></button>'+'<div id="acuity-modal-content" class="acuity-modal-content">'+'<iframe id="acuity-modal-frame" src="" frameBorder="0" style="max-width: 900px;"></iframe>'+"</div>"+'<div class="acuity-modal-content-proxy"></div>'+"</div>"+"</div>";document.body.appendChild(div.firstChild);div.innerHTML='<div id="acuity-modal" style="display: none;"></div>';document.body.appendChild(div.firstChild);global.addEventListener("resize",resize);document.addEventListener("click",function(e){var node=e.target;try{if(!isIOS()&&(global.innerWidth>=280&&global.innerHeight>=280)&&(node=getAcuityNode(node))){lastClickedButton=node;open(node.href);e.preventDefault()}}catch(e){console.error(e)}});document.addEventListener("DOMContentLoaded",initBar);getFrame().addEventListener("load",onLoad);window.addEventListener("message",function(event){setTimeout(resize)})}function initBar(){var bar=document.getElementsByClassName("acuity-booking-bar");var body=document.body;if(bar.length&&!barInitialized&&(window.top===window||global.innerWidth>=480&&global.innerHeight>=46)){body.className+=" acuity-bar-visible";body.appendChild(bar[0]);barInitialized=true;if(body.style&&window.getComputedStyle){setTimeout(function(){var style=window.getComputedStyle(body);body.style.position=style.position;body.style.top=style.top;bar[0].style.display="block"},250)}}}function open(url){var modal=getModal();var frame=getFrame();if(modal&&frame&&url){modal.open("#acuity-modal");url=addPassThroughQueryParams(url);if(frame.src!=url){frame.src=url}}}function resize(){var modal=getModal();var frame=getFrame();var width=modal.dom.modal.offsetWidth;var height=modal.dom.modal.offsetHeight;var widthPadding=24;var heightPadding=52;var frameWidth=Math.min(width-widthPadding,900);var frameHeight=Math.min(height-heightPadding,800);if(width<330||height<330){widthPadding=10;heightPadding=38}if(frame){frame.width=frameWidth;frame.height=frameHeight;if(frame.style){frame.style.height=frameHeight+"px";frame.style.width=frameWidth+"px"}}}function focus(){var modal=getModal();setTimeout(function(){focusNode(modal.dom.modalInner)},150)}function blur(){focusNode(lastClickedButton)}function onLoad(){var frame=getFrame();if(frame.src.indexOf("acuityscheduling.com")>-1||frame.src.indexOf("127.0.0.1")>-1||frame.src.indexOf(".as.me")>-1){postMessage(frame,"acuity:modal");if(typeof ga!="undefined"){ga(function(tracker){if(!tracker)tracker=ga.getAll()[0];var cid=tracker.get("clientId");postMessage(frame,"gacid:"+cid)})}}}function postMessage(frame,data){if(typeof frame!="undefined"&&typeof frame.contentWindow!="undefined"&&typeof frame.contentWindow.postMessage=="function"){frame.contentWindow.postMessage(data,"*")}}function getFrame(){return document.getElementById("acuity-modal-frame")}function getModal(){if(modal===null){modal=new VanillaModal.default({modal:".acuity-embed-modal",modalInner:".acuity-modal-inner",modalContent:".acuity-modal-content-proxy",open:"[data-modal-open]",close:".acuity-modal-close",page:"body",class:"acuity-modal-visible",loadClass:"acuity-modal",onBeforeOpen:resize,onOpen:focus,onClose:blur})}return modal}function getAcuityNode(node){if(/acuity-embed-button/.test(node.className)){return node}else{return node.parentNode&&getAcuityNode(node.parentNode)}}function focusNode(node){if(node){node.focus&&node.focus()}}function cleanBadHTML(){try{var bad=document.body.getElementsByClassName("acuity-embed-modal");for(var i=0;i<bad.length;i++){bad[i].parentNode.removeChild(bad[i])}}catch(e){}}function addPassThroughQueryParams(url){var paramsToPassRegexes=[/first_name/,/last_name/,/firstName/,/lastName/,/phone/,/email/,/certificate/,/datetime/,/field:[0-9]+?/,/appointmentType/,/appointmentTypeID/,/calendarID/];var parentParams=getJsonFromUrl(location.search.substr(1));var newUrl=url;for(var param in parentParams){for(var i=0;i<paramsToPassRegexes.length;i++){var regex=paramsToPassRegexes[i];if(param.match(regex)&&url.indexOf(param+"=")===-1){var val=parentParams[param];var varName=encodeURIComponent(param);if(typeof val=="object"){varName=varName+"[]";val=val.join("&"+varName+"=")}else{val=encodeURIComponent(val)}var urlParams=varName+"="+val;newUrl+=(newUrl.indexOf("?")>-1?"&":"?")+urlParams}}}return newUrl}function getJsonFromUrl(query){var result={};query.split("&").forEach(function(part){if(!part)return;part=part.split("+").join(" ");var eq=part.indexOf("=");var key=eq>-1?part.substr(0,eq):part;var val=eq>-1?decodeURIComponent(part.substr(eq+1)):"";var from=key.indexOf("[");if(from==-1)result[decodeURIComponent(key)]=val;else{var to=key.indexOf("]");var index=decodeURIComponent(key.substring(from+1,to));key=decodeURIComponent(key.substring(0,from));if(!result[key])result[key]=[];if(!index)result[key].push(val);else result[key][index]=val}});return result}function isIOS(){return navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}var VanillaModal={};(function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var defaults={modal:".modal",modalInner:".modal-inner",modalContent:".modal-content",open:"[data-modal-open]",close:"[data-modal-close]",page:"body",class:"modal-visible",loadClass:"vanilla-modal",clickOutside:true,closeKeys:[27],transitions:true,transitionEnd:null,onBeforeOpen:null,onBeforeClose:null,onOpen:null,onClose:null};function throwError(message){console.error("VanillaModal: "+message)}function find(arr,callback){return function(key){var filteredArray=arr.filter(callback);return filteredArray[0]?filteredArray[0][key]:undefined}}function transitionEndVendorSniff(){var el=document.createElement("div");var transitions=[{key:"transition",value:"transitionend"},{key:"OTransition",value:"otransitionend"},{key:"MozTransition",value:"transitionend"},{key:"WebkitTransition",value:"webkitTransitionEnd"}];return find(transitions,function(_ref){var key=_ref.key;return typeof el.style[key]!=="undefined"})("value")}function isPopulatedArray(arr){return Object.prototype.toString.call(arr)==="[object Array]"&&arr.length}function getNode(selector,parent){var targetNode=parent||document;var node=targetNode.querySelector(selector);if(!node){throwError(selector+" not found in document.")}return node}function addClass(el,className){if(!(el instanceof HTMLElement)){throwError("Not a valid HTML element.")}el.setAttribute("class",el.className.split(" ").filter(function(cn){return cn!==className}).concat(className).join(" "))}function removeClass(el,className){if(!(el instanceof HTMLElement)){throwError("Not a valid HTML element.")}el.setAttribute("class",el.className.split(" ").filter(function(cn){return cn!==className}).join(" "))}function getElementContext(e){if(e&&typeof e.hash==="string"){return document.querySelector(e.hash)}else if(typeof e==="string"){return document.querySelector(e)}throwError("No selector supplied to open()");return null}function applyUserSettings(settings){return _extends({},defaults,settings,{transitionEnd:transitionEndVendorSniff()})}function matches(e,selector){var allMatches=(e.target.document||e.target.ownerDocument).querySelectorAll(selector);for(var i=0;i<allMatches.length;i+=1){var node=e.target;while(node&&node!==document.body){if(node===allMatches[i]){return node}node=node.parentNode}}return null}var VanillaModal=function(){function VanillaModal(settings){_classCallCheck(this,VanillaModal);this.isOpen=false;this.current=null;this.isListening=false;this.settings=applyUserSettings(settings);this.dom=this.getDomNodes();this.open=this.open.bind(this);this.close=this.close.bind(this);this.closeKeyHandler=this.closeKeyHandler.bind(this);this.outsideClickHandler=this.outsideClickHandler.bind(this);this.delegateOpen=this.delegateOpen.bind(this);this.delegateClose=this.delegateClose.bind(this);this.listen=this.listen.bind(this);this.destroy=this.destroy.bind(this);this.addLoadedCssClass();this.listen()}_createClass(VanillaModal,[{key:"getDomNodes",value:function getDomNodes(){var _settings=this.settings,modal=_settings.modal,page=_settings.page,modalInner=_settings.modalInner,modalContent=_settings.modalContent;return{modal:getNode(modal),page:getNode(page),modalInner:getNode(modalInner,getNode(modal)),modalContent:getNode(modalContent,getNode(modal))}}},{key:"addLoadedCssClass",value:function addLoadedCssClass(){addClass(this.dom.page,this.settings.loadClass)}},{key:"setOpenId",value:function setOpenId(id){var page=this.dom.page;page.setAttribute("data-current-modal",id||"anonymous")}},{key:"removeOpenId",value:function removeOpenId(){var page=this.dom.page;page.removeAttribute("data-current-modal")}},{key:"open",value:function open(allMatches,e){var page=this.dom.page;var _settings2=this.settings,onBeforeOpen=_settings2.onBeforeOpen,onOpen=_settings2.onOpen;if(!(this.current instanceof HTMLElement===false)){throwError("VanillaModal target must exist on page.");return}this.releaseNode(this.current);this.current=getElementContext(allMatches);if(typeof onBeforeOpen==="function"){onBeforeOpen.call(this,e)}this.captureNode(this.current);addClass(page,this.settings.class);this.setOpenId(this.current.id);this.isOpen=true;if(typeof onOpen==="function"){onOpen.call(this,e)}}},{key:"detectTransition",value:function detectTransition(){var modal=this.dom.modal;var css=window.getComputedStyle(modal,null);return Boolean(["transitionDuration","oTransitionDuration","MozTransitionDuration","webkitTransitionDuration"].filter(function(i){return typeof css[i]==="string"&&parseFloat(css[i])>0}).length)}},{key:"close",value:function close(e){var _settings3=this.settings,transitions=_settings3.transitions,transitionEnd=_settings3.transitionEnd,onBeforeClose=_settings3.onBeforeClose;var hasTransition=this.detectTransition();if(this.isOpen){this.isOpen=false;if(typeof onBeforeClose==="function"){onBeforeClose.call(this,e)}removeClass(this.dom.page,this.settings.class);if(transitions&&transitionEnd&&hasTransition){this.closeModalWithTransition(e)}else{this.closeModal(e)}}}},{key:"closeModal",value:function closeModal(e){var onClose=this.settings.onClose;this.removeOpenId(this.dom.page);this.releaseNode(this.current);this.isOpen=false;this.current=null;if(typeof onClose==="function"){onClose.call(this,e)}}},{key:"closeModalWithTransition",value:function closeModalWithTransition(e){var _this=this;var modal=this.dom.modal;var transitionEnd=this.settings.transitionEnd;var closeTransitionHandler=function closeTransitionHandler(){modal.removeEventListener(transitionEnd,closeTransitionHandler);_this.closeModal(e)};modal.addEventListener(transitionEnd,closeTransitionHandler)}},{key:"captureNode",value:function captureNode(node){var modalContent=this.dom.modalContent;while(node.childNodes.length){modalContent.appendChild(node.childNodes[0])}}},{key:"releaseNode",value:function releaseNode(node){var modalContent=this.dom.modalContent;while(modalContent.childNodes.length){node.appendChild(modalContent.childNodes[0])}}},{key:"closeKeyHandler",value:function closeKeyHandler(e){var closeKeys=this.settings.closeKeys;if(isPopulatedArray(closeKeys)&&closeKeys.indexOf(e.which)>-1&&this.isOpen===true){e.preventDefault();this.close(e)}}},{key:"outsideClickHandler",value:function outsideClickHandler(e){var clickOutside=this.settings.clickOutside;var modalInner=this.dom.modalInner;if(clickOutside){var node=e.target;while(node&&node!==document.body){if(node===modalInner){return}node=node.parentNode}this.close(e)}}},{key:"delegateOpen",value:function delegateOpen(e){var open=this.settings.open;var matchedNode=matches(e,open);if(matchedNode){e.preventDefault();this.open(matchedNode,e)}}},{key:"delegateClose",value:function delegateClose(e){var close=this.settings.close;if(matches(e,close)){e.preventDefault();this.close(e)}}},{key:"listen",value:function listen(){var modal=this.dom.modal;if(!this.isListening){modal.addEventListener("click",this.outsideClickHandler,false);document.addEventListener("keydown",this.closeKeyHandler,false);document.addEventListener("click",this.delegateOpen,false);document.addEventListener("click",this.delegateClose,false);this.isListening=true}else{throwError("Event listeners already applied.")}}},{key:"destroy",value:function destroy(){var modal=this.dom.modal;if(this.isListening){this.close();modal.removeEventListener("click",this.outsideClickHandler);document.removeEventListener("keydown",this.closeKeyHandler);document.removeEventListener("click",this.delegateOpen);document.removeEventListener("click",this.delegateClose);this.isListening=false}else{throwError("Event listeners already removed.")}}}]);return VanillaModal}();exports.default=VanillaModal})(VanillaModal)})(window);(function () {
	try {
		if (document.getElementById('acuity-button-styles')) return;
		var c = "body.acuity-modal-visible{overflow:hidden}.acuity-embed-modal{display:block!important;position:fixed;content:\"\";top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:-10;opacity:0;-webkit-transition:opacity .2s,z-index 0s .2s;transition:opacity .2s,z-index 0s .2s;text-align:center;overflow:hidden;overflow-y:auto;white-space:nowrap;-webkit-overflow-scrolling:touch;visibility:hidden}.acuity-embed-modal iframe{visibility:visible!important;opacity:1!important;margin:0}.acuity-modal .acuity-embed-modal>*{display:inline-block;white-space:normal;vertical-align:middle;text-align:left}.acuity-modal .acuity-embed-modal:before{display:inline-block;overflow:hidden;width:0;height:100%;vertical-align:middle;content:\"\"}.acuity-modal.acuity-modal-visible .acuity-embed-modal{visibility:visible;z-index:20001;opacity:1;-webkit-transition:opacity .2s;transition:opacity .2s}.acuity-modal.acuity-modal-visible .acuity-modal-inner{z-index:1;opacity:1;-webkit-transform:scale(1);transform:scale(1);-webkit-transition:opacity .2s,-webkit-transform .2s;transition:opacity .2s,-webkit-transform .2s;transition:opacity .2s,transform .2s;transition:opacity .2s,transform .2s,-webkit-transform .2s}.acuity-modal-inner{padding:26px 6.5px 6.5px;position:relative;max-width:98%;max-height:98%;overflow:hidden;overflow-y:auto;background:#fff;z-index:-1;opacity:0;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:opacity .2s,z-index 0s .2s,-webkit-transform .2s;transition:opacity .2s,z-index 0s .2s,-webkit-transform .2s;transition:opacity .2s,transform .2s,z-index 0s .2s;transition:opacity .2s,transform .2s,z-index 0s .2s,-webkit-transform .2s;-webkit-box-sizing:content-box;box-sizing:content-box}.acuity-modal-content{-webkit-overflow-scrolling:touch;overflow:auto;line-height:22px;font-size:15px;-webkit-box-sizing:content-box;box-sizing:content-box}.acuity-modal-close{position:absolute;z-index:2;right:0;top:0;height:28px;width:28px;line-height:28px;cursor:pointer;text-align:center;color:#5fb8b9;font-size:28px;font-weight:700;background:0 0;border:0;padding:0}.acuity-embed-button,a.acuity-embed-button,a.acuity-embed-button:link{color:#fff}.acuity-embed-button{background:#3177ca;padding:8px 12px;border:0;-webkit-box-shadow:0 -2px 0 rgba(0,0,0,.15) inset;box-shadow:0 -2px 0 rgba(0,0,0,.15) inset;border-radius:4px;text-decoration:none;display:inline-block}.acuity-embed-button:active,.acuity-embed-button:focus,.acuity-embed-button:hover,.acuity-embed-button:visited{color:#fff}.acuity-embed-button:hover{-webkit-filter:brightness(112%);filter:brightness(112%)}";
		var s = document.createElement('style');
		s.type = 'text/css';
		s.id = 'acuity-button-styles';
		s.styleSheet ? s.styleSheet.cssText = c : s.appendChild(document.createTextNode(c));
		var n = document.getElementsByTagName('script')[0];
		n.parentNode.insertBefore(s, n);
		} catch (e) {}
	})();